---
const {id, height, width, show_border="True"} = Astro.props;

import Center from "./Center.astro";
---


<Center>
<div id={id+'_container'}>
    <slot/>
</div>
</Center>

<script is:inline define:vars={{id, width}}>
    let body_width;
    let canvas_width;

    function set_width(id, width){
        body_width = $('body').width();
        canvas_width = Math.min(body_width - 24, width);

        $('#'+id+'_container').width(canvas_width);
        document.querySelector(`canvas#${id}`).width = canvas_width - 4;
    }

    set_width(id, width);

    $( window ).on( "resize", function() {
        set_width(id, width)

    } );
</script>
